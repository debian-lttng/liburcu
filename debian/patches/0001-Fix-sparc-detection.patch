From: Jon Bernard <jbernard@debian.org>
Date: Sat, 4 Dec 2010 14:11:51 -0500
Subject: [PATCH] Fix sparc detection
To: ltt-dev@lists.casi.polymtl.ca

On one of the debian buildd machines, the host cpu is detected by
autoconf as 'sparc' instead of 'sparc64', which causes a configure
error. This patch sets the architecture to sparc64 if the host cpu is
detected as sparc.

For debian at least, this is okay because all of the buildd machines are
running 64-bit kernels even though autoconf seems to disagree on
occasion.

Signed-off-by: Jon Bernard <jbernard@debian.org>
---
 configure |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/configure b/configure
index 71eaed3..555a091 100755
--- a/configure
+++ b/configure
@@ -10948,6 +10948,7 @@ case $host_cpu in
 	ppc) ARCHTYPE="ppc" ;;
 	s390) ARCHTYPE="s390" ;;
 	s390x) ARCHTYPE="s390" ;;
+	sparc) ARCHTYPE="sparc64" ;;
 	sparc64) ARCHTYPE="sparc64" ;;
 	alpha*) ARCHTYPE="alpha" ;;
 	ia64) ARCHTYPE="gcc" ;;
-- 
